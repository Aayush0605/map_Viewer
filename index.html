<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Map + My Location + Directions</title>
    <style>#map{height:100vh;width:100%}</style>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
      let map, directionsService, directionsRenderer, myMarker;

      function init() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: {lat: 20.5937, lng: 78.9629}, zoom: 5
        });
        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer({map});
        if ("geolocation" in navigator) {
          navigator.geolocation.getCurrentPosition(pos => {
            const me = { lat: pos.coords.latitude, lng: pos.coords.longitude };
            map.setCenter(me); map.setZoom(14);
            myMarker = new google.maps.Marker({position: me, map, title: "You are here"});
          }, err => { console.error(err); });
        }
      }

      // Call for directions: origin can be myMarker.getPosition(), destination can be text or LatLng
      async function routeTo(destinationText) {
        if (!myMarker) return alert("Location not ready");
        const req = {
          origin: myMarker.getPosition(),
          destination: destinationText,
          travelMode: google.maps.TravelMode.DRIVING
        };
        directionsService.route(req, (res, status) => {
          if (status === "OK") directionsRenderer.setDirections(res);
          else alert("Directions failed: " + status);
        });
      }

      window.onload = () => { init(); /* Example: routeTo("India Gate, New Delhi") */ };
    </script>
  </body>
</html>
